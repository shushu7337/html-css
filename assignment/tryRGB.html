
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>tryRGB.html</title>
    <style>
      .here {
        height: 200px;
        width: 300px;
        margin: auto;
      }
      .bln {
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div id="rgb" class="here" style="background: rgb(100, 100, 100);"></div>
    <div class="bln">
      <button id="RR">R</button>
      <input id="Rr" type="range" min="0" max="255" onmousemove="inrange(this)">
      <button id="GG">G</button>
      <input id="Gr" type="range" min="0" max="255" onmousemove="inrange(this)">
      <button id="BB">B</button>
      <input id="Br" type="range" min="0" max="255" onmousemove="inrange(this)">
      <button id="plu" onmousedown="">+</button>
      <button id="min" onmousedown="">-</button>
      <button id="ran" onmousedown="">random</button>
    </div>
    <script>
        //取得div 及R G B各別三鍵的值以變數宣告 
            let rgb=document.getElementById("rgb");
            let btnR=document.getElementById("RR");
            let btnG=document.getElementById("GG");
            let btnB=document.getElementById("BB");
            // 三鍵以listener監聽行為
            btnR.addEventListener("click",crolor);
            btnG.addEventListener("click",cgolor);
            btnB.addEventListener("click",cbolor);
            // 將三鍵的值以亂數顯示
            btnR = Math.floor(Math.random()*256);
            btnG = Math.floor(Math.random()*256);
            btnB = Math.floor(Math.random()*256);
            
            // 呼叫隨機顯色函式
            rColor();
            
            // 讓RGB拉桿取得現有隨機色的數值
            // rgb.style.background="rgb("+btnR+","+btnG+","+btnB+")";
            document.getElementById("Rr").value=btnR;
            document.getElementById("Gr").value=btnR;
            document.getElementById("Br").value=btnR;

            // document.getElementsByClassName("bln")[0].getElementsByTagName("input")[0].value

            // let laR=document.getElementsByClassName("bln")[0].getElementsByTagName("input")[0];
            // let laG=document.getElementsByClassName("bln")[0].getElementsByTagName("input")[1];
            // let laB=document.getElementsByClassName("bln")[0].getElementsByTagName("input")[2];


            
            

            //隨機出色
            function rColor(){
              rgb.style.background="rgb("+btnR+","+btnG+","+btnB+")";
              return "rgb("+btnR+","+btnG+","+btnB+")";
              };

            //R鍵改色
            function crolor(){
                
                RR=prompt("請輸入數值","0~255");
                if((RR<0) || (256<RR)){
                    alert("請重新輸入");
                    return crolor();
                }else{
                  btnR=RR;
                  rgb.style.background="rgb("+btnR+","+btnG+","+btnB+")";
                 
                }
            }
            //G鍵改色
            function cgolor(){
                
                GG=prompt("請輸入數值","0~255");
                if((GG<0) || (256<GG)){
                    alert("請重新輸入");
                    return color();
                }else{
                    btnG=GG;
                    rgb.style.background="rgb("+btnR+","+btnG+","+btnB+")";
                }
            }
            //B鍵改色
            function cbolor(){
                
                BB=prompt("請輸入數值","0~255");
                if((BB<0) || (256<BB)){
                    alert("請重新輸入");
                    return color();
                }else{
                    btnB=BB;
                    rgb.style.background="rgb("+btnR+","+btnG+","+btnB+")";
                }
            }
        
            // 拉桿調色
            function inrange(labar){
              // console.log(labar)
                switch (labar.id){
                    case 'Rr' :
                        Rr=labar.value;
                        rgb.style.background="rgb("+Rr+","+btnG+","+btnB+")";
                    break;
                    case 'Gr' :
                        Gr=labar.value;
                        rgb.style.background="rgb("+btnR+","+Gr+","+btnB+")";
                    break;
                    case 'Br' :
                        Br=labar.value;
                        rgb.style.background="rgb("+btnR+","+btnG+","+Br+")";
                    break;
                }
            }
    </script>
  </body>
</html>
